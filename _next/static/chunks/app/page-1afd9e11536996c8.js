(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{67617:function(e,t,n){Promise.resolve().then(n.bind(n,99378))},98909:function(e,t,n){"use strict";n.d(t,{Bz:function(){return d},Dx:function(){return a},M5:function(){return p},OL:function(){return x},Wz:function(){return f},XJ:function(){return c},hp:function(){return m},jr:function(){return u},ls:function(){return o}});var r=n(3827),s=n(8792),l=n(86123),i=n(77658);let a=e=>{let{children:t,className:n=""}=e;return(0,r.jsx)("div",{className:["typo-title",n].join(" "),children:t})},o=e=>{let{children:t,className:n=""}=e;return(0,r.jsx)("div",{className:["typo-hero",n].join(" "),children:t})},c=e=>{let{children:t,className:n=""}=e;return(0,r.jsx)("div",{className:["heading2",n].join(" "),children:t})},d=e=>{let{children:t,className:n="",color:s="text-typo-150"}=e;return(0,r.jsx)("div",{className:["heading8",s,n].join(" "),children:t})},u=e=>{let{children:t,className:n=""}=e;return(0,r.jsx)("div",{className:["typo-body-medium",n].join(" "),children:t})},x=e=>{let{children:t,href:n}=e;return(0,r.jsx)(s.default,{className:"text-left font-[14px] font-normal leading-[24px] underline",href:n,children:t})},m=e=>{let{className:t,...n}=e;return(0,r.jsx)("button",{...n,className:["button-pill",t].join(" ")})},p=e=>{let{textToCopy:t}=e;return(0,r.jsx)("button",{className:"cursor-pointer",dangerouslySetInnerHTML:{__html:i.BR},onClick:()=>{navigator.clipboard.writeText(t),(0,l.Am)("Copied to clipboard",{type:"info"})}})},f=()=>(0,r.jsx)("input",{})},99378:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(3827),s=n(64090),l=n(98909),i=n(16273),a=n(23234),o=n(80469),c=n(39730),d=n(66803),u=n(9016),x=n(19807),m=n(67497),p=(0,s.memo)(()=>{let{isConnected:e}=(0,a.hT)(),{staking:t}=(0,o.n)();if(!e)return(0,r.jsxs)("div",{className:"flex min-h-[212px] flex-col items-center justify-center gap-[32px] uppercase",style:{backgroundImage:"url(".concat(u.sb,"/overview-bg.png)"),borderRadius:24},children:[(0,r.jsx)(l.ls,{children:"Please Log In To View"}),(0,r.jsx)("div",{children:"Log In"})]});let n=(0,c.U2)(t.state)||(0,d.IB)(),s=(0,c.Cn)(null,t.state)||(0,d.IB)(),i=t.state.tokens||(0,d.IB)();return(0,r.jsxs)("div",{className:"grid min-h-[144px] flex-col items-center justify-center gap-[32px]",style:{backgroundImage:"url(".concat(u.sb,"/overview-bg.png)"),borderRadius:24,gridTemplateColumns:"1fr 1fr 1fr 1fr"},children:[(0,r.jsxs)("div",{className:"flex h-full flex-col items-start gap-3 p-[24px]",children:[(0,r.jsx)(l.Bz,{children:"Claimable Rewards"}),(0,r.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,r.jsx)(l.XJ,{children:(0,m.H_)(s)}),(0,x.sj)(s)&&(0,r.jsx)(l.hp,{children:"Claim"})]}),(0,r.jsx)(l.jr,{children:(0,m.Em)(s)})]}),(0,r.jsxs)("div",{className:"flex h-full flex-col items-start gap-3 p-[24px]",children:[(0,r.jsx)(l.Bz,{children:"APR"}),(0,r.jsx)(l.XJ,{children:"15.57%"})]}),(0,r.jsxs)("div",{className:"flex h-full flex-col items-start gap-3 p-[24px]",children:[(0,r.jsx)(l.Bz,{children:"Delegated Amount"}),(0,r.jsx)(l.XJ,{children:(0,m.H_)(n)}),(0,r.jsx)(l.jr,{children:(0,m.Em)(n)})]}),(0,r.jsxs)("div",{className:"flex h-full flex-col items-start gap-3 p-[24px]",children:[(0,r.jsx)(l.Bz,{children:"Available For Delegation"}),(0,r.jsx)(l.XJ,{children:(0,m.H_)(i)}),(0,r.jsx)(l.jr,{children:(0,m.Em)(i)})]})]})}),f=n(22840),h=n(86123),j=n(88197),g=n(89056),v=n(77658),b=e=>{let{address:t}=e;if(!t)return null;let n=[t.slice(0,5),t.slice(t.length-5)].join("...");return(0,r.jsx)("button",{className:"cursor-pointer text-left text-[12px] font-normal leading-[20px] text-typo-200",onClick:()=>{navigator.clipboard.writeText(t),(0,h.Am)("Copied to clipboard",{type:"info"})},children:n})},N=e=>{let{text:t}=e,[n,s]=t.split(" ");return(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{children:n})," ",(0,r.jsx)("span",{className:"text-typo-200",children:s})]})};let y={gap:"16px",gridTemplateColumns:"60px 1.5fr repeat(3, 1fr) 80px 80px"},w=e=>{let{disabled:t,onStake:n,staking:s,validator:i}=e,{identity:a}=i.description,o=(0,g.P)(a),u=(0,c.Sg)(null==i?void 0:i.tokens,s.state),x=(0,m.gg)(u);return(0,r.jsxs)("div",{className:"flex w-full flex-col items-center justify-between gap-2",children:[(0,r.jsxs)("div",{className:"grid w-full items-center justify-between gap-2 p-4",style:y,children:[(0,r.jsx)("div",{className:"flex items-center justify-start",children:(0,r.jsx)("img",{alt:"Validator logo",className:"block w-[50px] rounded-full",src:o,style:{height:50,width:50}})}),(0,r.jsxs)("div",{className:"flex flex-1 flex-row justify-start gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-start gap-2 text-left",children:[(0,r.jsx)("div",{className:"text-[14px] font-bold leading-[20px]",children:i.description.moniker}),(0,r.jsx)(b,{address:i.operatorAddress})]}),(0,r.jsx)("div",{className:"flex min-w-max flex-col items-center justify-center",children:(0,c.Hg)(i.operatorAddress,s.state)&&(0,r.jsx)("div",{className:"rounded-[2px] bg-successBg p-[2px] text-[11px] font-medium leading-[16px] tracking-normal text-success",children:"You staked"})})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)(N,{text:(0,m.Em)((0,d.kw)(new f.Z(i.tokens)),!0)})}),(0,r.jsx)("div",{className:"text-right",children:(0,m.i)(i.commission.commissionRates.rate,2)}),u&&(0,r.jsx)("div",{className:"text-right",children:x}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)(l.OL,{href:"/validator?address=".concat(i.operatorAddress),children:"Details"})}),(0,r.jsx)("div",{children:(0,r.jsx)(l.hp,{disabled:t,onClick:n,children:"Delegate"})})]}),(0,r.jsx)("div",{className:"box-content h-[1px] bg-bg-500",style:{width:"calc(100% - 48px)"}})]})},k=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"text-[14px] font-normal leading-[14px] tracking-wider",children:(0,r.jsxs)("span",{className:"relative",children:[t," ",(0,r.jsx)("div",{className:"absolute right-[-16px] top-[6px] cursor-pointer",dangerouslySetInnerHTML:{__html:v.Sf}})]})})};var A=()=>{let{account:e,staking:t}=(0,o.n)(),[n,l]=(0,s.useState)(!1),{validators:i}=t.state,{client:c}=(0,a.Hj)();return(null==i?void 0:i.items.length)?(0,r.jsxs)("div",{className:"overflow-hidden rounded-[24px] bg-bg-600 pb-4 text-typo-100",children:[(0,r.jsxs)("div",{className:"grid w-full items-center justify-between gap-2 bg-bg-500 p-4 uppercase",style:y,children:[(0,r.jsx)("div",{}),(0,r.jsx)(k,{children:"Validator"}),(0,r.jsx)(k,{children:(0,r.jsx)("div",{className:"text-right",children:"Staked Amount"})}),(0,r.jsx)(k,{children:(0,r.jsx)("div",{className:"text-right",children:"Commission"})}),(0,r.jsx)(k,{children:(0,r.jsx)("div",{className:"text-right",children:"Voting Power"})})]}),i.items.map(s=>(0,r.jsx)(w,{disabled:n,onStake:()=>{if(!c)return;l(!0);let n={delegator:e.bech32Address,validator:s.operatorAddress};(0,j._5)(n,c,t).then(()=>{(0,h.Am)("Staking successful",{type:"success"})}).catch(()=>{(0,h.Am)("Staking error",{type:"error"})}).finally(()=>{l(!1)})},staking:t,validator:s},s.operatorAddress))]}):null},I=(0,s.memo)(function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"page-container flex flex-col gap-6 px-[24px] pb-[24px]",children:[(0,r.jsx)("div",{className:"mt-[40px] text-left",children:(0,r.jsx)(l.Dx,{children:"Your Staking Overview"})}),(0,r.jsx)(p,{}),(0,r.jsx)(l.Dx,{children:"Validators"}),(0,r.jsx)(A,{})]}),(0,r.jsx)(i.Z,{})]})})},16273:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(3827),s=n(59115),l=n(64090),i=n(98909),a=n(98245),o=n.n(a);o().setAppElement(document.body);var c=e=>(0,r.jsx)(o(),{...e,style:{content:{background:"#000",bottom:"auto",left:"50%",opacity:.8,right:"auto",top:"50%",transform:"translate(-50%, -50%)"}}}),d=n(80469),u=n(62986),x=()=>{let e=(0,d.n)(),[t,n]=(0,l.useState)("input"),a="delegate"===e.staking.state.modalOpened;if((0,l.useEffect)(()=>()=>{n("input")},[a]),!a)return null;let o="ValidatorName";return(0,r.jsx)(c,{isOpen:a,onRequestClose:()=>{e.staking.dispatch((0,u.ZG)(null))},children:"completed"===t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"CONGRATS!"}),(0,r.jsxs)("div",{children:["You have successfully staked on ",o,". Thank you for contributing in securing the XION network."]}),(0,r.jsx)(s.z,{onClick:()=>{e.staking.dispatch((0,u.ZG)(null))},children:"Awesome"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"uppercase",children:["Delegate To ",o]}),(0,r.jsx)("div",{className:"uppercase",children:"Available for delegation"}),(0,r.jsx)("div",{children:"$240.00"}),(0,r.jsx)("div",{children:"24 XION"}),(0,r.jsx)("div",{children:"Amount"}),(0,r.jsx)("div",{children:(0,r.jsx)(i.Wz,{})}),(0,r.jsx)("div",{children:"Memo (Optional)"}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{})}),(0,r.jsx)("div",{children:(0,r.jsx)(s.z,{children:"Delegate Now"})})]})})},m=()=>(0,r.jsx)(x,{})},39730:function(e,t,n){"use strict";n.d(t,{Cn:function(){return i},Hg:function(){return o},L2:function(){return c},Sg:function(){return d},U2:function(){return l},ap:function(){return a}});var r=n(22840),s=n(66803);let l=e=>{let{delegations:t}=e;if(!(null==t?void 0:t.items.length))return null;let n=t.items.map(e=>e.balance);return(0,s.HJ)(n)},i=(e,t)=>{let{delegations:n}=t;if(!(null==n?void 0:n.items.length))return null;let r=n.items.filter(t=>!e||t.validatorAddress===e).map(e=>e.rewards);return(0,s.HJ)(r)},a=e=>{let{tokens:t}=e;return t?new r.Z((0,s.bI)(t).amount):null},o=(e,t)=>{var n;return!!(null===(n=t.delegations)||void 0===n?void 0:n.items.some(t=>t.validatorAddress===e))},c=(e,t)=>{var n;let l=null===(n=t.delegations)||void 0===n?void 0:n.items.filter(t=>t.validatorAddress===e);if(!(null==l?void 0:l.length))return new r.Z(0);let i=(0,s.HJ)(l.map(e=>e.balance));return new r.Z(i.amount)},d=(e,t)=>{let{pool:n}=t;return e&&"string"==typeof(null==n?void 0:n.bondedTokens)?new r.Z(e).div(new r.Z(n.bondedTokens)).toNumber():null}},89056:function(e,t,n){"use strict";n.d(t,{P:function(){return a}});var r=n(64090),s=n(9016);let l={},i={getIdentityLogo:e=>{if(l[e])return l[e];let t=fetch("https://keybase.io/_/api/1.0/user/lookup.json?key_suffix=".concat(e)).then(e=>e.json()).then(e=>{var t,n,r,s;return(null==e?void 0:null===(s=e.them)||void 0===s?void 0:null===(r=s[0])||void 0===r?void 0:null===(n=r.pictures)||void 0===n?void 0:null===(t=n.primary)||void 0===t?void 0:t.url)||null}).catch(()=>null);return l[e]=t,t}},a=e=>{let[t,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{e&&n(await i.getIdentityLogo(e))})()},[e]),t||s.c1}},67497:function(e,t,n){"use strict";n.d(t,{Em:function(){return i},HS:function(){return o},H_:function(){return d},gg:function(){return a},i:function(){return c}});var r=n(22840),s=n(66803),l=n(9016);let i=(e,t)=>{let n=(0,s.bI)(e),l=new r.Z(n.amount);if(l.eq(0))return"".concat(l.toFormat()," ").concat(n.denom);if(l.lt(1e-4))return"<".concat(1e-4," ").concat(n.denom);if(t){let e=Intl.NumberFormat("en",{notation:"compact"});return"".concat(e.format(l.toNumber())," ").concat(n.denom)}return"".concat(l.toFormat(4)," ").concat(n.denom)},a=e=>{if("number"!=typeof e||Number.isNaN(e))return null;let t=e<1e-4?"<0.1":(100*e).toFixed(1);return"".concat(t,"%")},o=e=>Intl.NumberFormat("en",{notation:"compact"}).format(e.toNumber()),c=(e,t)=>{let n=new r.Z(e).div(new r.Z(10).pow(18)).toNumber();return"".concat((100*n).toFixed(t),"%")},d=(e,t)=>{let n=(0,s.bI)(e||(0,s.IB)()),i=new r.Z(e?n.amount:0).times(l.Ex);return"$".concat(t?o(i):i.toFormat(2))}}},function(e){e.O(0,[350,218,147,228,933,115,245,82,971,69,744],function(){return e(e.s=67617)}),_N_E=e.O()}]);