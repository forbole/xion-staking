(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{46601:function(){},89214:function(){},42480:function(){},85568:function(){},69386:function(){},31616:function(){},20131:function(){},16026:function(){},33370:function(){},18127:function(t,e,n){Promise.resolve().then(n.bind(n,41994))},41994:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var a=n(3827),r=n(99646),o=n.n(r),i=n(52674);n(22754),n(25805);var s=n(64090),u=n(76958),d=n(80469),c=n(62986);let l=t=>{let{children:e}=t;return(0,d.f)(),(0,a.jsx)(a.Fragment,{children:e})},m=t=>{let{children:e}=t,[n,r]=(0,s.useReducer)(c.I6,u.W);return(0,s.useEffect)(()=>{window.stakingContext={state:n}},[n]),(0,a.jsx)(u.Y.Provider,{value:{dispatch:r,state:n},children:(0,a.jsx)(l,{children:e})})};var f=n(12255);n(63385);let g={contracts:[],dashboardUrl:f.T$,rpcUrl:f.Od,stake:!0};function v(t){let{children:e}=t;return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:o().className,children:(0,a.jsx)(i.B7,{config:g,children:(0,a.jsx)(m,{children:e})})})})}},65617:function(t,e,n){"use strict";n.d(e,{co:function(){return w},yt:function(){return h},yQ:function(){return y}});var a=n(26221),r=n(58015),o=n(43890),i=n(22840),s=n(62884),u=n(12255);let d=async()=>{let t=await o.Tendermint34Client.connect(u.Od);return r.QueryClient.withExtensions(t,r.setupStakingExtension,r.setupDistributionExtension,r.setupIbcExtension)},c=async()=>{let t=await d();return await t.staking.validators("BOND_STATUS_BONDED")},l=async t=>{let e=await r.StargateClient.connect(u.Od);return await e.getBalance(t,"uxion")},m=async t=>{let e=await d();return await e.staking.delegatorDelegations(t)},f=async(t,e)=>{let n=await d(),r=await n.distribution.delegationRewards(t,e);return(await Promise.all(r.rewards.map(async t=>{if(0==t.denom.indexOf("ibc/")){var e;let a=await n.ibc.transfer.denomTrace(t.denom.substring(4));t.denom=(null===(e=a.denomTrace)||void 0===e?void 0:e.baseDenom)||t.denom}return t}))).filter(t=>{var e;return(null===(e=t.denom)||void 0===e?void 0:e.toUpperCase())==="UXION"}).map(t=>({amount:new i.Z(t.amount).div(new i.Z(10).pow(18)).toString(),denom:t.denom})).map(t=>(0,a.b)(t))},g=async(t,e,n)=>{let a=s.MsgDelegate.fromPartial({amount:n,delegatorAddress:t.delegator,validatorAddress:t.validator}),r={amount:[{amount:"1000",denom:"uxion"}],gas:"200000",granter:t.delegator};return await e.signAndBroadcast(t.delegator,[{typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:a}],r)},v=async(t,e,n)=>{let a=s.MsgUndelegate.fromPartial({amount:n,delegatorAddress:t.delegator,validatorAddress:t.validator}),r={amount:[{amount:"1000",denom:"uxion"}],gas:"200000",granter:t.delegator};return await e.signAndBroadcast(t.delegator,[{typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:a}],r)};var p=n(62986);let w=async(t,e)=>{try{let[n,r,o]=await Promise.all([l(t),c(),m(t).then(e=>Promise.all(e.delegationResponses.map(async e=>({balance:e.balance,rewards:await f(t,e.delegation.validatorAddress).then(t=>t.reduce((t,e)=>({amount:(parseFloat(t.amount)+parseFloat((0,a.b)(e).amount)).toString(),denom:e.denom}),{amount:"0",denom:"xion"})),validatorAddress:e.delegation.validatorAddress}))))]);e.dispatch((0,p.d0)(n)),e.dispatch((0,p.T2)({currentPage:0,items:r.validators})),e.dispatch((0,p.Qx)({currentPage:0,items:o}))}catch(t){console.error("error fetching staking data:",t)}},h=async(t,e,n)=>{await g(t,e,{amount:"1000",denom:"uxion"}),await w(t.delegator,n)},y=async(t,e,n)=>{await v(t,e,{amount:"1000",denom:"uxion"}),await w(t.delegator,n)}},80469:function(t,e,n){"use strict";n.d(e,{f:function(){return u},n:function(){return s}});var a=n(52674),r=n(64090),o=n(76958),i=n(65617);let s=()=>{let t=(0,r.useRef)({}),e=(0,r.useContext)(o.Y);t.current.state=e.state,t.current.dispatch=e.dispatch;let{data:n}=(0,a.hT)(),i=null==n?void 0:n.bech32Address;return{account:n,address:i,isLoggedIn:!!(null==n?void 0:n.bech32Address),staking:t.current}},u=()=>{let{address:t,isLoggedIn:e,staking:n}=s();(0,r.useEffect)(()=>{e&&t&&(0,i.co)(t,n)},[e,t,n])}},76958:function(t,e,n){"use strict";n.d(e,{W:function(){return r},Y:function(){return o}});var a=n(64090);let r={delegations:null,tokens:null,validators:null},o=(0,a.createContext)({dispatch:()=>null,state:r})},62986:function(t,e,n){"use strict";n.d(e,{I6:function(){return u},Qx:function(){return o},T2:function(){return r},d0:function(){return a}});let a=t=>({content:t,type:"SET_TOKENS"}),r=t=>({content:t,type:"ADD_VALIDATORS"}),o=t=>({content:t,type:"ADD_DELEGATIONS"}),i=t=>{let e=new Set;return t.filter(t=>!e.has(t.operatorAddress)&&(e.add(t.operatorAddress),!0))},s=t=>{let e=new Set;return t.filter(t=>!e.has(t.validatorAddress)&&(e.add(t.validatorAddress),!0))},u=(t,e)=>{switch(e.type){case"SET_TOKENS":return{...t,tokens:e.content};case"ADD_VALIDATORS":{let n=t.validators||{currentPage:0,items:[]};return n.currentPage+=1,n.items=i(n.items.concat(e.content.items)),{...t,validators:n}}case"ADD_DELEGATIONS":{let n=t.delegations||{currentPage:0,items:[]};return n.currentPage+=1,n.items=s(e.content.items.concat(n.items)),{...t,delegations:n}}default:return t}}},26221:function(t,e,n){"use strict";n.d(e,{E:function(){return o},b:function(){return r}});var a=n(22840);let r=t=>{var e,n,r;return(null===(e=t.denom)||void 0===e?void 0:e.toUpperCase())==="UXION"?{amount:new a.Z(t.amount).div(new a.Z(10).pow(6)).toString(),denom:"XION"}:(null===(n=t.denom)||void 0===n?void 0:n.toUpperCase())==="XION"?{amount:t.amount,denom:"XION"}:{...t,denom:null===(r=t.denom)||void 0===r?void 0:r.toUpperCase()}},o=t=>{let e=r(t),n=new a.Z(e.amount);return"".concat(n.toFormat()," ").concat(e.denom)}},12255:function(t,e,n){"use strict";n.d(e,{Bv:function(){return a},Od:function(){return o},T$:function(){return r}});let{chainId:a}=n(3436).testnetChainInfo,r=void 0,o="https://rpc.xion-testnet-1.burnt.com:443"},22754:function(){},25805:function(){},63385:function(){},99646:function(t){t.exports={style:{fontFamily:"'__Inter_215590', '__Inter_Fallback_215590'",fontStyle:"normal"},className:"__className_215590"}}},function(t){t.O(0,[350,218,147,228,933,77,565,971,69,744],function(){return t(t.s=18127)}),_N_E=t.O()}]);