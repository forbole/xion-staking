(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{67617:function(e,s,t){Promise.resolve().then(t.bind(t,64339))},64339:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return T}});var i=t(3827),n=t(64090),a=t(82012),l=t(80469),r=t(62948),d=t(67781),c=t(3237),o=t(88197),x=t(66803),m=t(19807),p=(0,n.memo)(()=>{let{isConnected:e}=(0,d.hT)(),{address:s,client:t,staking:r}=(0,l.n)(),[p,u]=(0,n.useState)({canFaucet:!1,denom:"",lastFaucetTimestamp:0,maxBalance:0,nextFaucetTimestamp:0}),[h,j]=(0,n.useState)(!1),f=(0,n.useCallback)(async()=>{if(e&&s&&t){var i,n;let e=await (0,m.TI)(s,t);(null===(i=r.state.tokens)||void 0===i?void 0:i.denom)===e.denom&&c.Jg&&(parseInt(null===(n=r.state.tokens)||void 0===n?void 0:n.amount)>=e.maxBalance?u({...e,canFaucet:!1}):u(e))}},[e,s,t,r.state.tokens]);if((0,n.useEffect)(()=>{f()},[e,s,t,f]),!e||!p.canFaucet)return null;let g=(0,x.bI)({amount:p.maxBalance.toString(),denom:p.denom});return(0,i.jsx)("div",{className:"grid min-h-[144px] flex-col items-center justify-center gap-[8px] overflow-auto",style:{gridTemplateColumns:"1fr"},children:p.canFaucet&&(0,i.jsxs)(a.zx,{isLoading:h,onClick:async()=>{if(t)try{j(!0),await (0,m.dQ)(s,t)}catch(e){console.error(e)}finally{await (0,o.VZ)(s,r),j(!1)}},children:["Faucet ",g.amount," ",g.denom]})})}),u=t(37275),h=t(22840),j=t(62986),f=t(39730),g=t(67497),v=t(42498);let w="relative flex w-full h-full flex-col items-start gap-3 p-[24px]",N=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"absolute bottom-[24px] right-[-8px] top-[24px] hidden md:block",children:(0,i.jsx)(v.i,{})}),(0,i.jsx)("div",{className:"w-full translate-y-[24px] md:hidden",children:(0,i.jsx)(v.I,{})})]});var b=(0,n.memo)(()=>{let{isConnected:e}=(0,d.hT)(),{staking:s}=(0,l.n)(),[,t]=(0,d.dd)();if(!e)return(0,i.jsxs)("div",{className:"flex min-h-[212px] flex-col items-center justify-center gap-[8px] px-[12px] uppercase",style:{backgroundImage:"url(".concat(c.sb,"/overview-bg.png)"),borderRadius:24},children:[(0,i.jsx)(a.ls,{className:"text-center",children:"Please Log In To View"}),(0,i.jsx)("div",{children:(0,i.jsx)(a.zx,{className:"min-w-[150px]",onClick:()=>{t(!0)},children:"Log In"})})]});let n=(0,f.U2)(s.state,null)||(0,x.IB)(),r=(0,f.Cn)(null,s.state)||(0,x.IB)(),o=(0,f.jc)(s.state),m=s.state.tokens?(0,x.bI)(s.state.tokens):(0,x.IB)();return(0,i.jsxs)("div",{className:"flex min-h-[144px] flex-col items-center justify-center gap-[8px] overflow-auto md:grid",style:{backgroundImage:"url(".concat(c.sb,"/overview-bg.png)"),backgroundSize:"cover",borderRadius:24,gridTemplateColumns:"1fr 1fr 1fr 1fr"},children:[(0,i.jsxs)("div",{className:w,children:[(0,i.jsx)(a.Bz,{children:"Claimable Rewards (XION)"}),(0,i.jsxs)("div",{className:"flex flex-row flex-wrap items-center gap-4",children:[(0,i.jsx)(a.XJ,{title:[r.amount,"XION"].join(" "),children:(0,g.HS)(new h.Z(r.amount),.001,3)}),(0,f.c3)(s.state)&&(0,i.jsx)(a.hp,{onClick:()=>{var e;s.dispatch((0,j.ZG)({content:{delegations:(null===(e=s.state.delegations)||void 0===e?void 0:e.items)||[]},type:"rewards"}))},children:"Claim"})]}),(0,i.jsx)(a.jr,{children:(0,g.H_)(r)}),(0,i.jsx)(N,{})]}),(0,i.jsxs)("div",{className:w,children:[(0,i.jsx)(a.Bz,{children:"APR"}),(0,i.jsx)(a.XJ,{children:(0,g.PV)(o)}),(0,i.jsx)(N,{})]}),(0,i.jsxs)("div",{className:w,children:[(0,i.jsx)(a.Bz,{children:"Delegated Amount (XION)"}),(0,i.jsx)(a.XJ,{title:(0,g.Em)(n),children:(0,g.HS)(new h.Z(n.amount),void 0,2)}),(0,i.jsx)(a.jr,{children:(0,g.H_)(n)}),(0,i.jsx)(N,{})]}),(0,i.jsxs)("div",{className:w,children:[(0,i.jsx)(a.Bz,{children:"Available For Delegation (XION)"}),(0,i.jsx)(a.XJ,{title:(0,g.Em)(m),children:(0,g.HS)(new h.Z(m.amount))}),(0,i.jsx)(a.jr,{children:(0,g.H_)(m)})]})]})}),k=t(20534),y=t(143),S=t(80148),B=t(89056),C=t(26605),_=t(48074);let A="grid-cols-[150px_repeat(3,1fr)_80px_100px] md:grid-cols-[350px_repeat(3,1fr)_80px_100px]",I={gap:"16px",minWidth:1e3},D=e=>{let{disabled:s,onStake:t,staking:n,validator:l}=e,{identity:r}=l.description,d=(0,B.P)(r,l.operatorAddress),c=(0,f.Sg)(null==l?void 0:l.tokens,n.state),o=(0,g.gg)(c),m=(0,i.jsx)(_.Z,{text:(0,g.Em)((0,x.kw)(new h.Z(l.tokens)),!0)}),p=(0,g.i)(l.commission.commissionRates.rate,2),u=(0,i.jsx)(a.OL,{href:"/validator?address=".concat(l.operatorAddress),children:"Details"});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"hidden w-full flex-col items-center justify-between gap-0 md:flex",style:{minWidth:1e3},children:[(0,i.jsxs)("div",{className:["grid w-full items-center justify-between gap-2 p-4",A].join(" "),style:I,children:[(0,i.jsxs)("div",{className:"flex flex-1 flex-row justify-start gap-4",children:[(0,i.jsx)(y.D,{logo:d}),(0,i.jsxs)("div",{className:"flex flex-col justify-center gap-[2px] text-left",children:[(0,i.jsx)("div",{className:"max-w-[150px] overflow-hidden truncate text-[14px] font-bold leading-[20px] md:max-w-[300px]",children:l.description.moniker}),(0,i.jsx)(C.Z,{address:l.operatorAddress})]}),(0,i.jsx)("div",{className:"flex min-w-max flex-col items-center justify-center",children:(0,f.zq)(l.operatorAddress,n.state)&&(0,i.jsx)("div",{className:"rounded-[2px] bg-successBg px-[8px] py-[2px] text-[11px] font-medium leading-[16px] tracking-normal text-success",children:"You staked"})})]}),(0,i.jsx)("div",{className:"text-right",children:m}),(0,i.jsx)("div",{className:"text-right",children:p}),c&&(0,i.jsx)("div",{className:"text-right",children:o}),(0,i.jsx)("div",{className:"text-right",children:u}),t&&(0,i.jsx)("div",{children:(0,i.jsx)(a.hp,{disabled:s,onClick:t,children:"Delegate"})})]}),(0,i.jsx)("div",{className:"box-content h-[1px] bg-bg-500",style:{width:"calc(100% - 48px)"}})]}),(0,i.jsxs)("div",{className:"flex w-full flex-col items-center justify-between gap-[8px] p-[16px] md:hidden",children:[(0,i.jsxs)("div",{className:"flex w-full flex-row justify-start gap-4",children:[(0,i.jsx)(y.D,{logo:d}),(0,i.jsxs)("div",{className:"flex flex-col justify-center gap-[2px] text-left",children:[(0,i.jsx)("div",{className:"max-w-[150px] overflow-hidden truncate text-[14px] font-bold leading-[20px] md:max-w-[300px]",children:l.description.moniker}),(0,i.jsx)(C.Z,{address:l.operatorAddress})]}),(0,i.jsx)("div",{className:"flex min-w-max flex-col items-center justify-center",children:(0,f.zq)(l.operatorAddress,n.state)&&(0,i.jsx)("div",{className:"rounded-[2px] bg-successBg px-[8px] py-[2px] text-[11px] font-medium leading-[16px] tracking-normal text-success",children:"You staked"})})]}),(0,i.jsxs)("div",{className:"flex w-full flex-row justify-between",children:[(0,i.jsx)("span",{children:"Staked Amount"}),(0,i.jsx)("span",{children:m})]}),(0,i.jsxs)("div",{className:"flex w-full flex-row justify-between",children:[(0,i.jsx)("span",{children:"Commission"}),(0,i.jsx)("span",{children:p})]}),c&&(0,i.jsxs)("div",{className:"flex w-full flex-row justify-between",children:[(0,i.jsx)("span",{children:"Voting Power"}),(0,i.jsx)("span",{children:o})]}),(0,i.jsxs)("div",{className:"flex w-full flex-row items-center justify-end gap-[24px]",children:[u,t&&(0,i.jsx)(a.hp,{disabled:s,onClick:t,children:"Delegate"})]}),(0,i.jsx)(v.I,{className:"&:bg-[#ffffff10] mt-[24px]"})]})]})},O=y.N;var F=(0,n.memo)(()=>{var e,s,t;let{isConnected:r,staking:d}=(0,l.n)(),[c,o]=(0,n.useState)("none"),[x,m]=(0,n.useState)("active"),[p,u]=(0,n.useState)(""),{validators:g}=d.state,v=(null===(e=g.bonded)||void 0===e?void 0:e.items)||[],w=((null===(s=g.unbonded)||void 0===s?void 0:s.items)||[]).concat((null===(t=g.unbonding)||void 0===t?void 0:t.items)||[]),N=!d.state.validators.bonded||!d.state.validators.unbonding||!d.state.validators.bonded,b=("active"===x?v:w).filter("active"===x?e=>e.status===k.BondStatus.BOND_STATUS_BONDED:e=>e.status===k.BondStatus.BOND_STATUS_UNBONDED||e.status===k.BondStatus.BOND_STATUS_UNBONDING).slice().sort((e,s)=>{if("none"===c)return 0;if(["voting-power-asc","voting-power-desc"].includes(c)){let t=(0,f.Sg)(e.tokens,d.state),i=(0,f.Sg)(s.tokens,d.state);return(0,S.B)(t,i,"voting-power-asc"===c)}if(["commission-asc","commission-desc"].includes(c)){let t=parseFloat(e.commission.commissionRates.rate),i=parseFloat(s.commission.commissionRates.rate);return(0,S.B)(t,i,"commission-asc"===c)}if(["name-asc","name-desc"].includes(c)){let t=e.description.moniker.toLowerCase(),i=s.description.moniker.toLowerCase();return(0,S.B)(t,i,"name-asc"===c)}if(["staked-asc","staked-desc"].includes(c)){let t=new h.Z(e.tokens),i=new h.Z(s.tokens);return(0,S.B)(t,i,"staked-asc"===c)}return 0}).filter(e=>{if(!p)return!0;let s=e.description.moniker.toLowerCase(),t=e.operatorAddress.toLowerCase();return s.includes(p.toLowerCase())||t.includes(p.toLowerCase())});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-col  md:grid md:grid-cols-3",children:[(0,i.jsxs)("div",{className:"mb-[16px] flex w-full flex-row justify-start gap-[12px] md:mb-[0px] md:gap-[16px]",children:[(0,i.jsx)(a.Dx,{children:"Validators"}),(0,i.jsx)(a.Mj,{onChange:e=>u(e.target.value),value:p})]}),(0,i.jsxs)("div",{className:"mt-[12px] flex flex-row items-center justify-center gap-[40px] uppercase md:mt-0",children:[(0,i.jsxs)(a.Y6,{active:"active"===x,onClick:()=>{m("active")},children:["Active",(0,i.jsxs)("span",{className:"hidden md:inline-block",children:[" ","(",v.length,")"]})]}),(0,i.jsxs)(a.Y6,{active:"inactive"===x,onClick:()=>{m("inactive")},children:["Inactive",(0,i.jsxs)("span",{className:"ml-[4px] hidden md:inline-block",children:[" ","(",w.length,")"]})]})]})]}),(0,i.jsxs)("div",{className:"min-h-[100px] overflow-auto rounded-[24px] bg-bg-600 pb-4 text-typo-100",children:[(0,i.jsxs)("div",{className:["hidden w-full items-center justify-between gap-2 bg-bg-500 p-4 uppercase md:grid",A].join(" "),style:I,children:[(0,i.jsx)(O,{mobile:!0,onSort:o,sort:c,sorting:["name-asc","name-desc"],children:"Validator"}),(0,i.jsx)(O,{mobile:!0,onSort:o,rigthAlign:!0,sort:c,sorting:["staked-asc","staked-desc"],children:(0,i.jsx)("div",{className:"text-right",children:"Staked Amount"})}),(0,i.jsx)(O,{mobile:!0,onSort:o,rigthAlign:!0,sort:c,sorting:["commission-asc","commission-desc"],children:(0,i.jsx)("div",{className:"text-right",children:"Commission"})}),(0,i.jsx)(O,{mobile:!0,onSort:o,rigthAlign:!0,sort:c,sorting:["voting-power-asc","voting-power-desc"],children:(0,i.jsx)("div",{className:"text-right",children:"Voting Power"})})]}),N&&(0,i.jsx)(a.yV,{}),b.map(e=>(0,i.jsx)(D,{disabled:!r,onStake:"active"===x?()=>{d.dispatch((0,j.ZG)({content:{validator:e},type:"delegate"}))}:null,staking:d,validator:e},e.operatorAddress))]})]})}),T=(0,n.memo)(function(){let{staking:e}=(0,l.n)(),[s,t]=(0,n.useState)(!0),d=(0,r.S6)(e.state);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"page-container flex flex-col gap-6 px-[12px] pb-[24px] md:px-[24px]",children:[(0,i.jsxs)("div",{className:"mt-[40px] flex flex-row justify-between text-left",children:[(0,i.jsxs)(a.Dx,{children:[(0,i.jsx)("span",{className:"hidden md:block",children:"Your Staking Overview"}),(0,i.jsx)("span",{className:"block md:hidden",children:"Your Overview"})]}),d&&(0,i.jsx)(r.sv,{isShowingDetails:s,setIsShowingDetails:t})]}),(0,i.jsx)(p,{}),(0,i.jsx)(b,{}),s&&d&&(0,i.jsx)(r.ZP,{}),(0,i.jsx)(F,{})]}),(0,i.jsx)(u.Z,{})]})})}},function(e){e.O(0,[350,218,147,228,933,734,245,403,495,971,69,744],function(){return e(e.s=67617)}),_N_E=e.O()}]);