(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{90858:function(e,s,i){Promise.resolve().then(i.bind(i,66355))},66355:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return B}});var l=i(3827),t=i(59115),a=i(22840),n=i(20534),d=i(8792),c=i(15313),r=i(64090),x=i(98909),o=i(6245),h=i(88197),m=i(80469),p=i(62986),j=i(39730),v=i(89056),u=i(66803),g=i(9016),N=i(67497),b=i(42498),f=i(71860),w=i(75615),k=i(62948);function z(){let e=(0,c.useSearchParams)().get("address"),s=(0,m.n)(),{core:i}=(0,o.l)(),[,t]=(0,w.dd)(),[n,d]=(0,r.useState)(!1),{isConnected:v,staking:g}=s,{isLoadingBlocking:f}=i.state,[z,B]=(0,r.useState)(null);if((0,r.useEffect)(()=>{(async()=>{e&&B(await (0,h.qp)(e,g))})()},[e,g]),!z)return(0,l.jsx)("div",{children:"Loading ..."});let S=(0,j.ap)(g.state),y=(0,j.U2)(g.state,null),C=(0,j.jv)(g.state,null),_=(0,j.Cn)(z.operatorAddress,g.state),X=(0,k.S6)(g.state),D=v?(0,l.jsxs)("div",{className:"grid grid-cols-4 rounded-[24px] bg-bg-600 p-[24px]",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.Bz,{children:"Claimable Rewards"}),(0,l.jsxs)("div",{className:"mb-[8px] mt-[12px] flex flex-row items-center gap-[8px]",children:[(0,l.jsx)(x.XJ,{children:(0,N.H_)(_)}),_&&(null==_?void 0:_.amount)!=="0"&&(0,l.jsx)(x.hp,{disabled:f,onClick:()=>{var e;g.dispatch((0,p.ZG)({content:{delegations:(null===(e=g.state.delegations)||void 0===e?void 0:e.items)||[]},type:"rewards"}))},children:"Claim"})]}),(0,l.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,l.jsx)(b.i,{})})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.Bz,{children:"My Delegation (XION)"}),(0,l.jsx)("div",{className:"mb-[8px] mt-[12px]",children:y&&(0,l.jsx)(x.XJ,{children:(0,N.HS)(new a.Z(y.amount))})}),(0,l.jsx)(x.Bz,{children:(0,N.H_)(y)}),(0,l.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,l.jsx)(b.i,{})})]}),(0,l.jsx)("div",{className:"flex flex-row gap-[16px]",children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(x.Bz,{children:"Available For Delegation (XION)"}),(0,l.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,l.jsx)(x.XJ,{children:S?(0,N.HS)(S):"-"})}),(0,l.jsx)(x.Bz,{children:S?(0,N.H_)((0,u.Jp)(S)):"-"}),(0,l.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,l.jsx)(b.i,{})})]})}),(0,l.jsx)("div",{className:"flex flex-row gap-[16px]",children:(0,l.jsxs)("div",{children:[(0,l.jsx)(x.Bz,{children:"Unstakings (XION)"}),(0,l.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,l.jsx)(x.XJ,{children:C?(0,N.HS)(new a.Z(C.amount)):"-"})}),(0,l.jsx)(x.Bz,{children:C?(0,N.H_)(C):"-"})]})})]}):(0,l.jsxs)("div",{className:"flex h-[220px] flex-col items-center justify-center gap-[32px] rounded-[24px] bg-bg-600 uppercase",children:[(0,l.jsx)(x.ls,{children:"Please log in to view"}),(0,l.jsx)("div",{children:(0,l.jsx)(x.zx,{className:"[&]:min-w-[150px]",disabled:f,onClick:()=>{t(!0)},children:"Log in"})})]});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-[24px] mt-[32px] flex flex-row items-center justify-between",children:[(0,l.jsx)(x.Dx,{children:"My Delegations"}),X&&(0,l.jsx)(k.sv,{isShowingDetails:n,setIsShowingDetails:d})]}),D,X&&n&&(0,l.jsx)(k.ZP,{})]})}function B(){let e=(0,c.useSearchParams)().get("address"),s=(0,m.n)(),{core:i}=(0,o.l)(),{isLoadingBlocking:w}=i.state,[k,B]=(0,r.useState)(null),S=(0,v.P)(null==k?void 0:k.description.identity);if((0,r.useEffect)(()=>{(async()=>{e&&B(await (0,h.qp)(e,s.staking))})()},[e,s]),!k)return(0,l.jsx)("div",{children:"Loading ..."});let y=(0,j.Sg)(k.tokens,s.staking.state),C=(0,N.gg)(y),_=new a.Z(k.tokens).div(new a.Z(10).pow(6)),X=(0,j.U2)(s.staking.state,k.operatorAddress),D=(0,j.zq)(k.operatorAddress,s.staking.state);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"page-container flex w-full flex-col gap-[16px] px-[16px] pb-[32px]",children:[(0,l.jsxs)("div",{className:"mb-[32px] mt-[40px]",children:[(0,l.jsx)(x.OL,{href:"/",children:"STAKING"})," ","> ",(0,l.jsx)("span",{children:k.description.moniker})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-[24px] p-[24px]",style:{backgroundImage:"url(".concat(g.sb,"/overview-bg.png)"),backgroundSize:"cover",borderRadius:16},children:[(0,l.jsxs)("div",{className:"flex flex-row items-center gap-[16px]",children:[(0,l.jsx)("img",{alt:"Validator logo",className:"block w-[80px] rounded-full",src:S||g.c1}),(0,l.jsxs)("div",{className:"flex flex-1 items-center gap-[16px]",children:[(0,l.jsx)("div",{className:"typo-validator-name",children:k.description.moniker||""}),D&&(0,l.jsx)("div",{className:"rounded-[4px] bg-successBg px-[8px] py-[4px] text-[11px] text-success",children:"You staked"})]}),k.status===n.BondStatus.BOND_STATUS_BONDED&&(0,l.jsx)("div",{children:(0,l.jsx)(t.z,{disabled:!s.isConnected||w,onClick:()=>{s.staking.dispatch((0,p.ZG)({content:{validator:k},type:"delegate"}))},children:"DELEGATE NOW"})})]}),(0,l.jsx)(b.I,{}),(0,l.jsxs)("div",{className:"grid grid-cols-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.Bz,{children:"Total Stake (XION)"}),(0,l.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,l.jsx)(x.XJ,{children:(0,N.HS)(_)})}),(0,l.jsx)(x.Bz,{children:(0,N.H_)((0,u.Jp)(_))}),(0,l.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,l.jsx)(b.i,{})})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.Bz,{children:"Commission Rate"}),(0,l.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,l.jsx)(x.XJ,{children:(0,N.i)(k.commission.commissionRates.rate,2)})}),(0,l.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,l.jsx)(b.i,{})})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.Bz,{children:"Voting Power"}),(0,l.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,l.jsx)(x.XJ,{children:C})}),(0,l.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,l.jsx)(b.i,{})})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(x.Bz,{children:"My Delegation (XION)"}),(0,l.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,l.jsx)(x.XJ,{children:X?(0,N.HS)(new a.Z((0,u.bI)(X).amount)):"-"})}),(0,l.jsx)(x.Bz,{children:(0,N.H_)(X)})]})]}),(0,l.jsx)(b.I,{}),(0,l.jsxs)("div",{className:"grid grid-cols-4",children:[(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsx)(x.Bz,{color:"text-white",children:"XION Address"}),(0,l.jsxs)("div",{className:"inline-flex flex-row gap-2 break-all",children:[k.operatorAddress," ",(0,l.jsx)(x.M5,{textToCopy:k.operatorAddress})]})]}),k.description.website&&(0,l.jsxs)("div",{children:[(0,l.jsx)(x.Bz,{color:"text-white",children:"Website"}),(0,l.jsx)(d.default,{href:k.description.website,target:"_blank",children:k.description.website})]}),k.description.securityContact&&(0,l.jsxs)("div",{children:[(0,l.jsx)(x.Bz,{color:"text-white",children:"Security Contact"}),(0,l.jsx)(d.default,{href:"mailto:".concat(k.description.securityContact),children:k.description.securityContact})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(x.Bz,{color:"text-white",children:"Details"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:k.description.details}),(0,l.jsxs)("div",{children:["Max Commission Rate:"," ",(0,N.i)(k.commission.commissionRates.maxRate,0)]}),(0,l.jsxs)("div",{children:["Max commission Change Rate:"," ",(0,N.i)(k.commission.commissionRates.maxChangeRate,0)]})]})]})]}),(0,l.jsx)(z,{})]}),(0,l.jsx)(f.Z,{})]})}}},function(e){e.O(0,[350,218,147,228,933,4,245,816,503,971,69,744],function(){return e(e.s=90858)}),_N_E=e.O()}]);