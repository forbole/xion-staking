(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{90858:function(e,s,i){Promise.resolve().then(i.bind(i,62367))},62367:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return H}});var t=i(3827),l=i(59115),a=i(22840),d=i(8792),n=i(15313),r=i(64090),c=i(98909),x=i(88197),o=i(80469),m=i(62986),h=i(39730),j=i(89056),p=i(66803),g=i(9016),v=i(67497);let u=()=>(0,t.jsx)("div",{className:"h-[1px] w-full bg-bg-400"}),f=()=>(0,t.jsx)("div",{className:"h-full w-[1px] bg-bg-400"});var b=i(71860),N=i(23234),w=i(143),k=i(26605),y=i(48074);let S=e=>{let s=(0,h.jv)(e,null),i=(0,h.U2)(e,null);return(0,p.UO)(s)||(0,p.UO)(i)},C={gap:"16px",gridTemplateColumns:"60px 1.5fr repeat(4, 1fr)"},z=e=>{var s;let{delegation:i,disabled:l,staking:a}=e,d=((null===(s=a.state.validators)||void 0===s?void 0:s.items)||[]).find(e=>e.operatorAddress===i.validatorAddress),n=(0,j.P)(null==d?void 0:d.description.identity);return(0,t.jsxs)("div",{className:"flex w-full flex-col items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"grid w-full items-center justify-between gap-2 p-4",style:C,children:[(0,t.jsx)("div",{className:"flex items-center justify-start",children:(0,t.jsx)("img",{alt:"Validator logo",className:"block w-[50px] rounded-full",src:n,style:{height:50,width:50}})}),(0,t.jsx)("div",{className:"flex flex-1 flex-row justify-start gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col justify-start gap-2 text-left",children:[(0,t.jsx)("div",{className:"text-[14px] font-bold leading-[20px]",children:(null==d?void 0:d.description.moniker)||""}),(0,t.jsx)(k.Z,{address:(null==d?void 0:d.operatorAddress)||""})]})}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)(y.Z,{text:(0,v.Em)(i.balance)})}),(0,t.jsx)("div",{className:"text-right",children:d?(0,v.i)(d.commission.commissionRates.rate,0):""}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)(y.Z,{text:(0,v.Em)(i.rewards)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.hp,{disabled:l,onClick:()=>{d&&a.dispatch((0,m.ZG)({content:{validator:d},type:"delegate"}))},children:"Delegate"}),(0,t.jsx)(c.hp,{disabled:l,onClick:()=>{d&&a.dispatch((0,m.ZG)({content:{validator:d},type:"undelegate"}))},children:"Undelegate (tmp)"})]})]}),(0,t.jsx)("div",{className:"box-content h-[1px] bg-bg-500",style:{width:"calc(100% - 48px)"}})]})},A=e=>{var s;let{disabled:i,staking:l,unbonding:a}=e,d=((null===(s=l.state.validators)||void 0===s?void 0:s.items)||[]).find(e=>e.operatorAddress===a.validator),n=(0,j.P)(null==d?void 0:d.description.identity);return(0,t.jsxs)("div",{className:"flex w-full flex-col items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"grid w-full items-center justify-between gap-2 p-4",style:C,children:[(0,t.jsx)("div",{className:"flex items-center justify-start",children:(0,t.jsx)("img",{alt:"Validator logo",className:"block w-[50px] rounded-full",src:n,style:{height:50,width:50}})}),(0,t.jsx)("div",{className:"flex flex-1 flex-row justify-start gap-4",children:(0,t.jsxs)("div",{className:"flex flex-col justify-start gap-2 text-left",children:[(0,t.jsx)("div",{className:"text-[14px] font-bold leading-[20px]",children:(null==d?void 0:d.description.moniker)||""}),(0,t.jsx)(k.Z,{address:(null==d?void 0:d.operatorAddress)||""})]})}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)(y.Z,{text:(0,v.Em)(a.balance)})}),(0,t.jsx)("div",{className:"text-right",children:"Unbonding"}),(0,t.jsx)("div",{className:"text-right",children:new Date(1e3*a.completionTime).toString()}),(0,t.jsx)("div",{children:(0,t.jsx)(c.hp,{disabled:i,onClick:()=>{},children:"Cancel"})})]}),(0,t.jsx)("div",{className:"box-content h-[1px] bg-bg-500",style:{width:"calc(100% - 48px)"}})]})},B=w.N;var X=(0,r.memo)(()=>{let{staking:e}=(0,o.n)(),[s,i]=(0,r.useState)("none"),[l,a]=(0,r.useState)("none"),{delegations:d,unbondings:n}=e.state,c=!!(null==d?void 0:d.items.length),x=!!(null==n?void 0:n.items.length);return c||x?(0,t.jsxs)("div",{className:"flex h-full flex-1 flex-col items-end gap-[16px]",children:[c&&(()=>{let i=d.items.slice();return(0,t.jsxs)("div",{className:"w-full overflow-hidden rounded-[24px] bg-bg-600 pb-4 text-typo-100",children:[(0,t.jsxs)("div",{className:"grid w-full items-center justify-between gap-2 bg-bg-500 p-4 uppercase",style:C,children:[(0,t.jsx)("div",{}),(0,t.jsx)(B,{children:"Delegations"}),(0,t.jsx)(B,{onSort:a,sort:s,sorting:["staked-asc","staked-desc"],children:(0,t.jsx)("div",{className:"text-right",children:"Staked Amount"})}),(0,t.jsx)(B,{onSort:a,sort:s,sorting:["commission-asc","commission-desc"],children:(0,t.jsx)("div",{className:"text-right",children:"Commission"})}),(0,t.jsx)(B,{onSort:a,sort:s,sorting:["rewards-asc","rewards-desc"],children:(0,t.jsx)("div",{className:"text-right",children:"Rewards"})})]}),i.map((s,i)=>(0,t.jsx)(z,{delegation:s,staking:e},i))]})})(),x&&(()=>{let s=n.items.slice();return(0,t.jsxs)("div",{className:"w-full overflow-hidden rounded-[24px] bg-bg-600 pb-4 text-typo-100",children:[(0,t.jsxs)("div",{className:"grid w-full items-center justify-between gap-2 bg-bg-500 p-4 uppercase",style:C,children:[(0,t.jsx)("div",{}),(0,t.jsx)(B,{children:"Delegations"}),(0,t.jsx)(B,{onSort:i,sort:l,sorting:["staked-asc","staked-desc"],children:(0,t.jsx)("div",{className:"text-right",children:"Staked Amount"})}),(0,t.jsx)(B,{onSort:i,sort:l,sorting:["commission-asc","commission-desc"],children:(0,t.jsx)("div",{className:"text-right",children:"Commission"})}),(0,t.jsx)(B,{onSort:i,sort:l,sorting:["rewards-asc","rewards-desc"],children:(0,t.jsx)("div",{className:"text-right",children:"Rewards"})})]}),s.map((s,i)=>(0,t.jsx)(A,{staking:e,unbonding:s},i))]})})()]}):null});function Z(){let e=(0,n.useSearchParams)().get("address"),s=(0,o.n)(),[,i]=(0,N.dd)(),[l,d]=(0,r.useState)(!1),{isConnected:j,staking:g}=s,{isLoadingBlocking:u}=g.state,[b,w]=(0,r.useState)(null),{client:k}=(0,N.Hj)();if((0,r.useEffect)(()=>{(async()=>{e&&w(await (0,x.qp)(e,g))})()},[e,g]),!b)return(0,t.jsx)("div",{children:"Loading ..."});let y=(0,h.ap)(s.staking.state),C=(0,h.U2)(s.staking.state,null),z=(0,h.jv)(s.staking.state,null),A=(0,h.Cn)(b.operatorAddress,s.staking.state),B=S(s.staking.state),Z=j?(0,t.jsxs)("div",{className:"grid grid-cols-4 rounded-[24px] bg-bg-600 p-[24px]",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Bz,{children:"Claimable Rewards"}),(0,t.jsxs)("div",{className:"mb-[8px] mt-[12px] flex flex-row items-center gap-[8px]",children:[(0,t.jsx)(c.XJ,{children:(0,v.H_)(A)}),A&&(null==A?void 0:A.amount)!=="0"&&(0,t.jsx)(c.hp,{disabled:u,onClick:()=>{if(!k)return;let e={delegator:s.account.bech32Address,validator:b.operatorAddress};g.dispatch((0,m.WY)(!0)),(0,x.sT)(e,k,s.staking).finally(()=>{g.dispatch((0,m.WY)(!1))})},children:"Claim"})]}),(0,t.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,t.jsx)(f,{})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Bz,{children:"My Delegation (XION)"}),(0,t.jsx)("div",{className:"mb-[8px] mt-[12px]",children:C&&(0,t.jsx)(c.XJ,{children:(0,v.HS)(new a.Z(C.amount))})}),(0,t.jsx)(c.Bz,{children:(0,v.H_)(C)}),(0,t.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,t.jsx)(f,{})})]}),(0,t.jsx)("div",{className:"flex flex-row gap-[16px]",children:(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(c.Bz,{children:"Available For Delegation (XION)"}),(0,t.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,t.jsx)(c.XJ,{children:y?(0,v.HS)(y):"-"})}),(0,t.jsx)(c.Bz,{children:y?(0,v.H_)((0,p.Jp)(y)):"-"}),(0,t.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,t.jsx)(f,{})})]})}),(0,t.jsx)("div",{className:"flex flex-row gap-[16px]",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Bz,{children:"Unstakings (XION)"}),(0,t.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,t.jsx)(c.XJ,{children:z?(0,v.HS)(new a.Z(z.amount)):"-"})}),(0,t.jsx)(c.Bz,{children:z?(0,v.H_)(z):"-"})]})})]}):(0,t.jsxs)("div",{className:"flex h-[220px] flex-col items-center justify-center gap-[32px] rounded-[24px] bg-bg-600 uppercase",children:[(0,t.jsx)(c.ls,{children:"Please log in to view"}),(0,t.jsx)(c.zx,{disabled:u,onClick:()=>{i(!0)},children:"Log in"})]});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-[24px] mt-[32px] flex flex-row items-center justify-between",children:[(0,t.jsx)(c.Dx,{children:"My Delegations"}),B&&(0,t.jsx)("button",{onClick:()=>{d(!l)},children:l?"Hide details":"Show details"})]}),Z,B&&l&&(0,t.jsx)(X,{})]})}function H(){let e=(0,n.useSearchParams)().get("address"),s=(0,o.n)(),{isLoadingBlocking:i}=s.staking.state,[N,w]=(0,r.useState)(null),k=(0,j.P)(null==N?void 0:N.description.identity);if((0,r.useEffect)(()=>{(async()=>{e&&w(await (0,x.qp)(e,s.staking))})()},[e,s]),!N)return(0,t.jsx)("div",{children:"Loading ..."});let y=(0,h.Sg)(N.tokens,s.staking.state),S=(0,v.gg)(y),C=new a.Z(N.tokens).div(new a.Z(10).pow(6)),z=(0,h.U2)(s.staking.state,N.operatorAddress),A=(0,h.zq)(N.operatorAddress,s.staking.state);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"page-container flex w-full flex-col gap-[16px] px-[16px] pb-[32px]",children:[(0,t.jsxs)("div",{className:"mb-[32px] mt-[40px]",children:[(0,t.jsx)(c.OL,{href:"/",children:"STAKING"})," ","> ",(0,t.jsx)("span",{children:N.description.moniker})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-[24px] p-[24px]",style:{backgroundImage:"url(".concat(g.sb,"/overview-bg.png)"),backgroundSize:"cover",borderRadius:16},children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-[16px]",children:[(0,t.jsx)("img",{alt:"Validator logo",className:"block w-[80px] rounded-full",src:k||g.c1}),(0,t.jsxs)("div",{className:"flex flex-1 items-center gap-[16px]",children:[(0,t.jsx)("div",{className:"typo-validator-name",children:N.description.moniker||""}),A&&(0,t.jsx)("div",{className:"rounded-[4px] bg-successBg px-[8px] py-[4px] text-[11px] text-success",children:"You staked"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(l.z,{disabled:!s.isConnected||i,onClick:()=>{s.staking.dispatch((0,m.ZG)({content:{validator:N},type:"delegate"}))},children:"DELEGATE NOW"})})]}),(0,t.jsx)(u,{}),(0,t.jsxs)("div",{className:"grid grid-cols-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Bz,{children:"Total Stake (XION)"}),(0,t.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,t.jsx)(c.XJ,{children:(0,v.HS)(C)})}),(0,t.jsx)(c.Bz,{children:(0,v.H_)((0,p.Jp)(C))}),(0,t.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,t.jsx)(f,{})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Bz,{children:"Commission Rate"}),(0,t.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,t.jsx)(c.XJ,{children:(0,v.i)(N.commission.commissionRates.rate,2)})}),(0,t.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,t.jsx)(f,{})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Bz,{children:"Voting Power"}),(0,t.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,t.jsx)(c.XJ,{children:S})}),(0,t.jsx)("div",{className:"absolute bottom-0 right-[20px] top-0",children:(0,t.jsx)(f,{})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Bz,{children:"My Delegation (XION)"}),(0,t.jsx)("div",{className:"mb-[8px] mt-[12px]",children:(0,t.jsx)(c.XJ,{children:z?(0,v.HS)(new a.Z((0,p.bI)(z).amount)):"-"})}),(0,t.jsx)(c.Bz,{children:(0,v.H_)(z)})]})]}),(0,t.jsx)(u,{}),(0,t.jsxs)("div",{className:"grid grid-cols-4",children:[(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)(c.Bz,{color:"text-white",children:"XION Address"}),(0,t.jsxs)("div",{className:"inline-flex flex-row gap-2 break-all",children:[N.operatorAddress," ",(0,t.jsx)(c.M5,{textToCopy:N.operatorAddress})]})]}),N.description.website&&(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Bz,{color:"text-white",children:"Website"}),(0,t.jsx)(d.default,{href:N.description.website,target:"_blank",children:N.description.website})]}),N.description.securityContact&&(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Bz,{color:"text-white",children:"Security Contact"}),(0,t.jsx)(d.default,{href:"mailto:".concat(N.description.securityContact),children:N.description.securityContact})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Bz,{color:"text-white",children:"Details"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:N.description.details}),(0,t.jsxs)("div",{children:["Max Commission Rate:"," ",(0,v.i)(N.commission.commissionRates.maxRate,0)]}),(0,t.jsxs)("div",{children:["Max commission Change Rate:"," ",(0,v.i)(N.commission.commissionRates.maxChangeRate,0)]})]})]})]}),(0,t.jsx)(Z,{})]}),(0,t.jsx)(b.Z,{})]})}}},function(e){e.O(0,[350,218,147,228,933,115,245,82,298,971,69,744],function(){return e(e.s=90858)}),_N_E=e.O()}]);