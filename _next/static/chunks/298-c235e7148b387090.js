"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{98909:function(e,t,n){n.d(t,{Bz:function(){return d},Dx:function(){return o},M5:function(){return m},OL:function(){return x},Wz:function(){return h},XJ:function(){return c},Xq:function(){return f},hp:function(){return p},jr:function(){return u},ls:function(){return a},sr:function(){return j},zx:function(){return v}});var l=n(3827),r=n(8792),s=n(86123),i=n(77658);let o=e=>{let{children:t,className:n=""}=e;return(0,l.jsx)("div",{className:["typo-title",n].join(" "),children:t})},a=e=>{let{children:t,className:n=""}=e;return(0,l.jsx)("div",{className:["typo-hero",n].join(" "),children:t})},c=e=>{let{children:t,className:n=""}=e;return(0,l.jsx)("div",{className:["heading2",n].join(" "),children:t})},d=e=>{let{children:t,className:n="",color:r="text-typo-150"}=e;return(0,l.jsx)("div",{className:["heading8",r,n].join(" "),children:t})},u=e=>{let{children:t,className:n=""}=e;return(0,l.jsx)("div",{className:["typo-body-medium",n].join(" "),children:t})},x=e=>{let{children:t,href:n}=e;return(0,l.jsx)(r.default,{className:"text-left font-[14px] font-normal leading-[24px] underline",href:n,children:t})},p=e=>{let{className:t,...n}=e;return(0,l.jsx)("button",{...n,className:["cursor-pointer rounded-full bg-bg-550 px-[8px] py-[4px] text-white hover:bg-bg-600 disabled:cursor-not-allowed disabled:bg-bg-400 disabled:text-typo-150",t].join(" ")})},m=e=>{let{textToCopy:t}=e;return(0,l.jsx)("button",{className:"cursor-pointer",dangerouslySetInnerHTML:{__html:i.BR},onClick:()=>{navigator.clipboard.writeText(t),(0,s.Am)("Copied to clipboard",{type:"info"})}})},h=e=>{let{error:t,...n}=e;return(0,l.jsxs)("span",{className:"relative block",children:[(0,l.jsx)("input",{...n,className:["h-[96px] w-full rounded-[16px] border-[1px] bg-black p-[16px] pr-[140px] text-[48px] focus:outline-none",t?"border-danger":"border-white"].join(" ")}),(0,l.jsx)("span",{className:"absolute bottom-0 right-[12px] top-0 flex h-full items-center text-[24px] text-[48px] text-typo-300",children:"XION"})]})},f=e=>{let{children:t}=e;return(0,l.jsx)("div",{className:"text-danger",children:t})},j=e=>(0,l.jsx)("input",{...e,className:"h-[50px] w-full bg-black py-[8px] focus:outline-none",style:{border:"none",borderBottom:"1px solid white"}}),v=e=>{let{className:t,variant:n,...r}=e;return(0,l.jsx)("button",{...r,className:["w-full rounded-[8px] px-[12px] py-[16px] text-black disabled:cursor-not-allowed","danger"===n?"text-danger disabled:text-typo-150 bg-[#D745061A]":"success"===n?"bg-success text-black disabled:bg-green-400":"bg-white text-black disabled:bg-bg-400",t||""].join(" ")})}},143:function(e,t,n){n.d(t,{N:function(){return s}});var l=n(3827),r=n(77658);let s=e=>{let{children:t,onSort:n,sort:s,sorting:i}=e,o=(i||[]).concat(["none"]),a=s?o.indexOf(s):-1;return(0,l.jsx)("div",{className:"text-[14px] font-normal leading-[14px] tracking-wider",children:(0,l.jsxs)("span",{className:"relative",children:[t," ",!!n&&!!s&&(0,l.jsx)("button",{className:"absolute right-[-16px] top-[6px] cursor-pointer",dangerouslySetInnerHTML:{__html:r.Sf},onClick:()=>{if(!n)return;let e=(1+o.indexOf(s))%o.length,t=o[e];null==n||n(t)},style:{rotate:0===a?"180deg":1===a?"0deg":"90deg"}})]})})}},26605:function(e,t,n){var l=n(3827),r=n(86123);t.Z=e=>{let{address:t}=e;if(!t)return null;let n=[t.slice(0,5),t.slice(t.length-5)].join("...");return(0,l.jsx)("button",{className:"cursor-pointer text-left text-[12px] font-normal leading-[20px] text-typo-200",onClick:()=>{navigator.clipboard.writeText(t),(0,r.Am)("Copied to clipboard",{type:"info"})},children:n})}},71860:function(e,t,n){n.d(t,{Z:function(){return S}});var l=n(3827),r=n(98909),s=n(64090),i=n(98245),o=n.n(i),a=n(77658);o().setAppElement(document.body);var c=e=>{let{children:t,...n}=e;return(0,s.useEffect)(()=>{if(n.isOpen){let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}}},[n.isOpen]),(0,l.jsx)(o(),{...n,style:{content:{background:"#000",border:"none",borderRadius:"48px",bottom:"auto",boxShadow:"0px 0px 50px 0px #FFFFFF40",left:"50%",opacity:.8,padding:"45px",right:"auto",top:"50%",transform:"translate(-50%, -50%)"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)("button",{className:"absolute right-[-16px] top-[-16px] w-[36px] cursor-pointer",dangerouslySetInnerHTML:{__html:a.kC},onClick:n.onRequestClose}),t]})})},d=n(80469),u=n(62986),x=()=>{let e=(0,d.n)(),{staking:t}=e,{modal:n}=t.state,s=(null==n?void 0:n.type)==="rewards";return s?(0,l.jsxs)(c,{isOpen:s,onRequestClose:()=>{e.staking.dispatch((0,u.ZG)(null))},children:[(0,l.jsx)("div",{children:"Success!"}),(0,l.jsx)("div",{children:"You have claimed your staking rewards successfully."}),(0,l.jsx)(r.zx,{children:"CLOSE"})]}):null},p=n(23234),m=n(22840),h=n(86123),f=n(88197),j=n(39730),v=n(66803),b=n(9016),g=n(67497);let N="input";var y=()=>{let e=(0,d.n)(),{client:t}=(0,p.Hj)(),[n,i]=(0,s.useState)(N),[o,a]=(0,s.useState)(!1),[x,y]=(0,s.useState)(""),[w,k]=(0,s.useState)(""),[S,C]=(0,s.useState)({amount:void 0,memo:void 0}),{account:z,staking:A}=e,{modal:F}=A.state,O=(null==F?void 0:F.type)==="delegate";if((0,s.useEffect)(()=>()=>{i(N),C({}),y(""),k("")},[O]),!O)return null;let{validator:Z}=null==F?void 0:F.content,E=new m.Z(x),H=E.isNaN()?"":E.times(b.Ex),I=Object.values(S).some(e=>!!e),B=(0,j.ap)(A.state);return(0,l.jsx)(c,{isOpen:O,onRequestClose:()=>{o||e.staking.dispatch((0,u.ZG)(null))},children:(0,l.jsx)("div",{className:"min-w-[390px]",children:(()=>{if("completed"===n)return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"mb-[16px]",children:(0,l.jsx)(r.ls,{children:"SUCCESS!"})}),(0,l.jsxs)("div",{children:["You have successfully staked on"," ",Z.description.moniker,". Thank you for contributing in securing the XION network."]})]}),(0,l.jsxs)("div",{className:"mb-[32px] mt-[32px] flex w-full flex-col items-center justify-center gap-[12px]",children:[(0,l.jsx)(r.Bz,{children:"Staked Amount"}),(0,l.jsx)(r.XJ,{children:x}),(0,l.jsx)(r.Bz,{children:"$24N"})]}),!!w&&(0,l.jsx)("div",{className:"mb-[32px] text-center italic",children:(0,l.jsx)("div",{children:w})}),(0,l.jsx)(r.zx,{disabled:o,onClick:()=>{e.staking.dispatch((0,u.ZG)(null))},children:"CLOSE"})]});let s=()=>!H||!B||E.isNaN()||E.gt(B);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-center uppercase",children:(0,l.jsxs)(r.ls,{children:["Delegate To ",Z.description.moniker]})}),B&&(()=>{let e=B.times(b.Ex);return(0,l.jsxs)("div",{className:"mt-[40px] flex w-full flex-col items-center justify-center gap-[12px] uppercase",children:[(0,l.jsx)(r.Bz,{children:"Available for delegation (XION)"}),(0,l.jsx)(r.XJ,{children:(0,g.HS)(B)}),(0,l.jsxs)(r.Bz,{children:["$",(0,g.HS)(e)]})]})})(),(0,l.jsxs)("div",{className:"mt-[40px] flex w-full flex-row justify-between",children:[(0,l.jsx)("div",{children:"Amount"}),!!H&&(0,l.jsxs)(r.Bz,{children:["= $",(0,g.HS)(H)]})]}),(0,l.jsxs)("form",{onSubmit:e=>{if(null==e||e.stopPropagation(),null==e||e.preventDefault(),!t||I||s()||E.lt(0))return;a(!0);let n={delegator:z.bech32Address,validator:Z.operatorAddress};(0,f._5)(n,(0,v.Jp)(E),w,t,A).then(e=>(i("completed"),e())).catch(()=>{(0,h.Am)("Staking error",{type:"error"})}).finally(()=>{a(!1)})},children:[(0,l.jsxs)("div",{className:"mt-[8px]",children:[(0,l.jsx)(r.Wz,{disabled:o,error:!!S.amount,onBlur:()=>{s()&&C({...S,amount:"Invalid amount"})},onChange:e=>{S.amount&&C({...S,amount:void 0}),y(e.target.value)},value:x}),S.amount&&(0,l.jsx)("div",{children:(0,l.jsx)(r.Xq,{children:S.amount})})]}),(0,l.jsx)("div",{className:"mt-[40px] w-full",children:(0,l.jsx)(r.sr,{disabled:o,onChange:e=>{k(e.target.value)},placeholder:"Memo (Optional)",value:w})}),(0,l.jsx)("div",{className:"mt-[48px] w-full",children:(0,l.jsx)(r.zx,{disabled:o||I,type:"submit",children:"Delegate Now"})})]})]})})()})})};let w="input";var k=()=>{let e=(0,d.n)(),{client:t}=(0,p.Hj)(),[n,i]=(0,s.useState)(w),[o,a]=(0,s.useState)(!1),[x,N]=(0,s.useState)(""),[y,k]=(0,s.useState)(""),{account:S,staking:C}=e,{modal:z}=C.state,A=(null==z?void 0:z.type)==="undelegate";if((0,s.useEffect)(()=>()=>{i(w),N(""),k("")},[A]),!A)return null;let{validator:F}=null==z?void 0:z.content,O=new m.Z(x),Z=O.isNaN()?"":O.times(b.Ex),E=(0,j.U2)(C.state,F.operatorAddress);return(0,l.jsx)(c,{isOpen:A,onRequestClose:()=>{o||e.staking.dispatch((0,u.ZG)(null))},children:(0,l.jsx)("div",{className:"min-w-[390px]",children:"completed"===n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"mb-[16px]",children:(0,l.jsx)(r.ls,{children:"SUCCESS!"})}),(0,l.jsxs)("div",{children:["You have successfully unstaked from"," ",F.description.moniker,". It takes"," ",21," days to complete the unstaking process"]})]}),(0,l.jsxs)("div",{className:"mb-[32px] mt-[32px] flex w-full flex-col items-center justify-center gap-[12px]",children:[(0,l.jsx)(r.Bz,{children:"Unstaking Amount (XION)"}),(0,l.jsx)(r.XJ,{children:(0,g.HS)(O)}),(0,l.jsx)(r.Bz,{children:(0,g.H_)((0,v.Jp)(O))})]}),!!y&&(0,l.jsx)("div",{className:"mb-[32px] text-center italic",children:(0,l.jsx)("div",{children:y})}),(0,l.jsx)(r.zx,{disabled:o,onClick:()=>{e.staking.dispatch((0,u.ZG)(null))},children:"CLOSE"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-center uppercase",children:(0,l.jsxs)(r.ls,{children:["Unstake From ",F.description.moniker]})}),E&&(()=>{let e=new m.Z(E.amount).times(b.Ex);return(0,l.jsxs)("div",{className:"mt-[40px] flex w-full flex-col items-center justify-center gap-[12px] uppercase",children:[(0,l.jsx)(r.Bz,{children:"Available amount (XION)"}),(0,l.jsx)(r.XJ,{children:(0,g.HS)(new m.Z(E.amount))}),(0,l.jsxs)(r.Bz,{children:["$",(0,g.HS)(e)]})]})})(),(0,l.jsxs)("div",{className:"mt-[40px] flex w-full flex-row justify-between",children:[(0,l.jsx)("div",{children:"Amount"}),!!Z&&(0,l.jsxs)(r.Bz,{children:["=$",(0,g.HS)(Z)]})]}),(0,l.jsxs)("form",{onSubmit:e=>{if(null==e||e.stopPropagation(),null==e||e.preventDefault(),!t||!O.gt(0))return;a(!0);let n={delegator:S.bech32Address,validator:F.operatorAddress};(0,f.xu)(n,(0,v.Jp)(O),y,t,C).then(e=>(i("completed"),e())).catch(()=>{(0,h.Am)("Staking error",{type:"error"})}).finally(()=>{a(!1)})},children:[(0,l.jsx)("div",{className:"mt-[8px]",children:(0,l.jsx)(r.Wz,{disabled:o,onChange:e=>{N(e.target.value)},value:x})}),(0,l.jsx)("div",{className:"mt-[40px] w-full",children:(0,l.jsx)(r.sr,{disabled:o,onChange:e=>{k(e.target.value)},placeholder:"Memo (Optional)",value:y})}),(0,l.jsx)("div",{className:"mt-[48px] w-full",children:(0,l.jsx)(r.zx,{disabled:o,type:"submit",children:"Unstake Now"})})]})]})})})},S=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y,{}),(0,l.jsx)(k,{}),(0,l.jsx)(x,{})]})},48074:function(e,t,n){var l=n(3827);t.Z=e=>{let{text:t}=e,[n,r]=t.split(" ");return(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{children:n})," ",(0,l.jsx)("span",{className:"text-typo-200",children:r})]})}},39730:function(e,t,n){n.d(t,{Cn:function(){return o},Sg:function(){return d},U2:function(){return s},ap:function(){return a},jv:function(){return i},zq:function(){return c}});var l=n(22840),r=n(66803);let s=(e,t)=>{let{delegations:n}=e;if(!(null==n?void 0:n.items.length))return null;let l=n.items.filter(e=>!t||e.validatorAddress===t).map(e=>e.balance);return(0,r.HJ)(l)},i=(e,t)=>{let{unbondings:n}=e;if(!(null==n?void 0:n.items.length))return null;let l=n.items.filter(e=>!t||e.validator===t).map(e=>e.balance);return(0,r.HJ)(l)},o=(e,t)=>{let{delegations:n}=t;if(!(null==n?void 0:n.items.length))return null;let l=n.items.filter(t=>!e||t.validatorAddress===e).map(e=>e.rewards);return(0,r.HJ)(l)},a=e=>{let{tokens:t}=e;return t?new l.Z((0,r.bI)(t).amount):null},c=(e,t)=>{var n;return!!(null===(n=t.delegations)||void 0===n?void 0:n.items.some(t=>t.validatorAddress===e))},d=(e,t)=>{let{pool:n}=t;return e&&"string"==typeof(null==n?void 0:n.bondedTokens)?new l.Z(e).div(new l.Z(n.bondedTokens)).toNumber():null}},89056:function(e,t,n){n.d(t,{P:function(){return o}});var l=n(64090),r=n(9016);let s={},i={getIdentityLogo:e=>{if(s[e])return s[e];let t=fetch("https://keybase.io/_/api/1.0/user/lookup.json?key_suffix=".concat(e)).then(e=>e.json()).then(e=>{var t,n,l,r;return(null==e?void 0:null===(r=e.them)||void 0===r?void 0:null===(l=r[0])||void 0===l?void 0:null===(n=l.pictures)||void 0===n?void 0:null===(t=n.primary)||void 0===t?void 0:t.url)||null}).catch(()=>null);return s[e]=t,t}},o=e=>{let[t,n]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{e&&n(await i.getIdentityLogo(e))})()},[e]),t||r.c1}},67497:function(e,t,n){n.d(t,{Em:function(){return i},HS:function(){return a},H_:function(){return d},gg:function(){return o},i:function(){return c}});var l=n(22840),r=n(66803),s=n(9016);let i=(e,t)=>{let n=(0,r.bI)(e),s=new l.Z(n.amount);if(s.eq(0))return"".concat(s.toFormat()," ").concat(n.denom);if(s.lt(1e-4))return"<".concat(1e-4," ").concat(n.denom);if(t){let e=Intl.NumberFormat("en",{notation:"compact"});return"".concat(e.format(s.toNumber())," ").concat(n.denom)}return"".concat(s.toFormat(4)," ").concat(n.denom)},o=e=>{if("number"!=typeof e||Number.isNaN(e))return null;let t=e<1e-4?"<0.1":(100*e).toFixed(1);return"".concat(t,"%")},a=e=>Intl.NumberFormat("en",{notation:"compact"}).format(e.toNumber()),c=(e,t)=>{let n=new l.Z(e).div(new l.Z(10).pow(18)).toNumber();return"".concat((100*n).toFixed(t),"%")},d=(e,t)=>{let n=(0,r.bI)(e||(0,r.IB)()),i=new l.Z(e?n.amount:0).times(s.Ex);return!t&&i.lt(.01)?"<$0.01":"$".concat(t?a(i):i.toFormat(2))}}}]);