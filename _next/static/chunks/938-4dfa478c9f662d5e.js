"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{98909:function(e,t,n){n.d(t,{Bz:function(){return c},Dx:function(){return s},M5:function(){return p},OL:function(){return x},Wz:function(){return f},XJ:function(){return a},hp:function(){return m},jr:function(){return d},ls:function(){return u},sr:function(){return h},zx:function(){return v}});var r=n(3827),l=n(8792),o=n(86123),i=n(77658);let s=e=>{let{children:t,className:n=""}=e;return(0,r.jsx)("div",{className:["typo-title",n].join(" "),children:t})},u=e=>{let{children:t,className:n=""}=e;return(0,r.jsx)("div",{className:["typo-hero",n].join(" "),children:t})},a=e=>{let{children:t,className:n=""}=e;return(0,r.jsx)("div",{className:["heading2",n].join(" "),children:t})},c=e=>{let{children:t,className:n="",color:l="text-typo-150"}=e;return(0,r.jsx)("div",{className:["heading8",l,n].join(" "),children:t})},d=e=>{let{children:t,className:n=""}=e;return(0,r.jsx)("div",{className:["typo-body-medium",n].join(" "),children:t})},x=e=>{let{children:t,href:n}=e;return(0,r.jsx)(l.default,{className:"text-left font-[14px] font-normal leading-[24px] underline",href:n,children:t})},m=e=>{let{className:t,...n}=e;return(0,r.jsx)("button",{...n,className:["button-pill",t].join(" ")})},p=e=>{let{textToCopy:t}=e;return(0,r.jsx)("button",{className:"cursor-pointer",dangerouslySetInnerHTML:{__html:i.BR},onClick:()=>{navigator.clipboard.writeText(t),(0,o.Am)("Copied to clipboard",{type:"info"})}})},f=e=>(0,r.jsxs)("span",{className:"relative block",children:[(0,r.jsx)("input",{...e,className:"h-[96px] w-full bg-black p-[16px] pl-[52px] focus:outline-none",style:{border:"1px solid white",borderRadius:"16px",fontSize:"48px"}}),(0,r.jsx)("span",{className:"absolute bottom-0 left-[12px] top-0 flex h-full items-center text-[24px] text-[48px]",children:"$"})]}),h=e=>(0,r.jsx)("input",{...e,className:"h-[50px] w-full bg-black py-[8px] focus:outline-none",style:{border:"none",borderBottom:"1px solid white"}}),v=e=>(0,r.jsx)("button",{...e,className:"w-full rounded-[8px] bg-white py-[16px] text-black"})},16273:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(3827),l=n(23234),o=n(22840),i=n(64090),s=n(86123),u=n(98909),a=n(98245),c=n.n(a),d=n(77658);c().setAppElement(document.body);var x=e=>{let{children:t,...n}=e;return(0,i.useEffect)(()=>{if(n.isOpen){let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}}},[n.isOpen]),(0,r.jsx)(c(),{...n,style:{content:{background:"#000",border:"none",borderRadius:"48px",bottom:"auto",boxShadow:"0px 0px 50px 0px #FFFFFF40",left:"50%",opacity:.8,padding:"45px",right:"auto",top:"50%",transform:"translate(-50%, -50%)"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},children:(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("button",{className:"absolute right-[-16px] top-[-16px] w-[36px] cursor-pointer",dangerouslySetInnerHTML:{__html:d.kC},onClick:n.onRequestClose}),t]})})},m=n(88197),p=n(80469),f=n(62986),h=n(39730),v=n(66803),b=n(9016),j=n(67497);let g="input";var N=()=>{let e=(0,p.n)(),{client:t}=(0,l.Hj)(),[n,a]=(0,i.useState)(g),[c,d]=(0,i.useState)(!1),[N,w]=(0,i.useState)(""),[y,k]=(0,i.useState)(""),{account:S,staking:C}=e,{modal:F}=C.state,E=(null==F?void 0:F.type)==="delegate";if((0,i.useEffect)(()=>()=>{a(g)},[E]),!E)return null;let{validator:I}=null==F?void 0:F.content,Z=(()=>{let e=parseFloat(N);return Number.isNaN(e)?"":new o.Z(e/b.Ex)})(),z=(0,h.ap)(C.state);return(0,r.jsx)(x,{isOpen:E,onRequestClose:()=>{c||e.staking.dispatch((0,f.ZG)(null))},children:(0,r.jsx)("div",{className:"min-w-[390px]",children:"completed"===n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mb-[16px]",children:(0,r.jsx)(u.ls,{children:"SUCCESS!"})}),(0,r.jsxs)("div",{children:["You have successfully staked on"," ",I.description.moniker,". Thank you for contributing in securing the XION network."]})]}),(0,r.jsxs)("div",{className:"mb-[32px] mt-[32px] flex w-full flex-col items-center justify-center gap-[12px]",children:[(0,r.jsx)(u.Bz,{children:"Staked Amount"}),(0,r.jsx)(u.XJ,{children:N}),(0,r.jsx)(u.Bz,{children:"24 XION"})]}),!!y&&(0,r.jsx)("div",{className:"mb-[32px] text-center italic",children:(0,r.jsx)("div",{children:y})}),(0,r.jsx)(u.zx,{disabled:c,onClick:()=>{e.staking.dispatch((0,f.ZG)(null))},children:"CLOSE"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-center uppercase",children:(0,r.jsxs)(u.ls,{children:["Delegate To ",I.description.moniker]})}),z&&(()=>{let e=z.times(b.Ex);return(0,r.jsxs)("div",{className:"mt-[40px] flex w-full flex-col items-center justify-center gap-[12px] uppercase",children:[(0,r.jsx)(u.Bz,{children:"Available for delegation"}),(0,r.jsxs)(u.XJ,{children:["$",(0,j.HS)(e)]}),(0,r.jsx)(u.Bz,{children:(0,j.Em)((0,v.Jp)(z),!0)})]})})(),(0,r.jsxs)("div",{className:"mt-[40px] flex w-full flex-row justify-between",children:[(0,r.jsx)("div",{children:"Amount"}),!!Z&&(0,r.jsxs)(u.Bz,{children:["=",(0,j.HS)(Z)," XION"]})]}),(0,r.jsx)("div",{className:"mt-[8px]",children:(0,r.jsx)(u.Wz,{disabled:c,onChange:e=>{w(e.target.value)},value:N})}),(0,r.jsx)("div",{className:"mt-[40px] w-full",children:(0,r.jsx)(u.sr,{disabled:c,onChange:e=>{k(e.target.value)},placeholder:"Memo (Optional)",value:y})}),(0,r.jsx)("div",{className:"mt-[48px] w-full",children:(0,r.jsx)(u.zx,{disabled:c,onClick:()=>{if(!t||!Z)return;d(!0);let e={delegator:S.bech32Address,validator:I.operatorAddress};(0,m._5)(e,(0,v.Jp)(Z),y,t,C).then(e=>(a("completed"),e())).catch(()=>{(0,s.Am)("Staking error",{type:"error"})}).finally(()=>{d(!1)})},children:"Delegate Now"})})]})})})},w=()=>(0,r.jsx)(N,{})},39730:function(e,t,n){n.d(t,{Cn:function(){return i},Hg:function(){return u},L2:function(){return a},Sg:function(){return c},U2:function(){return o},ap:function(){return s}});var r=n(22840),l=n(66803);let o=e=>{let{delegations:t}=e;if(!(null==t?void 0:t.items.length))return null;let n=t.items.map(e=>e.balance);return(0,l.HJ)(n)},i=(e,t)=>{let{delegations:n}=t;if(!(null==n?void 0:n.items.length))return null;let r=n.items.filter(t=>!e||t.validatorAddress===e).map(e=>e.rewards);return(0,l.HJ)(r)},s=e=>{let{tokens:t}=e;return t?new r.Z((0,l.bI)(t).amount):null},u=(e,t)=>{var n;return!!(null===(n=t.delegations)||void 0===n?void 0:n.items.some(t=>t.validatorAddress===e))},a=(e,t)=>{var n;let o=null===(n=t.delegations)||void 0===n?void 0:n.items.filter(t=>t.validatorAddress===e);if(!(null==o?void 0:o.length))return new r.Z(0);let i=(0,l.HJ)(o.map(e=>e.balance));return new r.Z(i.amount)},c=(e,t)=>{let{pool:n}=t;return e&&"string"==typeof(null==n?void 0:n.bondedTokens)?new r.Z(e).div(new r.Z(n.bondedTokens)).toNumber():null}},89056:function(e,t,n){n.d(t,{P:function(){return s}});var r=n(64090),l=n(9016);let o={},i={getIdentityLogo:e=>{if(o[e])return o[e];let t=fetch("https://keybase.io/_/api/1.0/user/lookup.json?key_suffix=".concat(e)).then(e=>e.json()).then(e=>{var t,n,r,l;return(null==e?void 0:null===(l=e.them)||void 0===l?void 0:null===(r=l[0])||void 0===r?void 0:null===(n=r.pictures)||void 0===n?void 0:null===(t=n.primary)||void 0===t?void 0:t.url)||null}).catch(()=>null);return o[e]=t,t}},s=e=>{let[t,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{e&&n(await i.getIdentityLogo(e))})()},[e]),t||l.c1}},67497:function(e,t,n){n.d(t,{Em:function(){return i},HS:function(){return u},H_:function(){return c},gg:function(){return s},i:function(){return a}});var r=n(22840),l=n(66803),o=n(9016);let i=(e,t)=>{let n=(0,l.bI)(e),o=new r.Z(n.amount);if(o.eq(0))return"".concat(o.toFormat()," ").concat(n.denom);if(o.lt(1e-4))return"<".concat(1e-4," ").concat(n.denom);if(t){let e=Intl.NumberFormat("en",{notation:"compact"});return"".concat(e.format(o.toNumber())," ").concat(n.denom)}return"".concat(o.toFormat(4)," ").concat(n.denom)},s=e=>{if("number"!=typeof e||Number.isNaN(e))return null;let t=e<1e-4?"<0.1":(100*e).toFixed(1);return"".concat(t,"%")},u=e=>Intl.NumberFormat("en",{notation:"compact"}).format(e.toNumber()),a=(e,t)=>{let n=new r.Z(e).div(new r.Z(10).pow(18)).toNumber();return"".concat((100*n).toFixed(t),"%")},c=(e,t)=>{let n=(0,l.bI)(e||(0,l.IB)()),i=new r.Z(e?n.amount:0).times(o.Ex);return"$".concat(t?u(i):i.toFormat(2))}}}]);